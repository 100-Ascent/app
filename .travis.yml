os:
- linux
before_install:
- curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -
- sudo apt-get install -y nodejs
- npm --version
- node --version
- npx --version
- export ANDROID_HOME=/usr/local/android-sdk
- export PATH=$PATH:$ANDROID_HOME/emulator
- export PATH=$PATH:$ANDROID_HOME/tools
- export PATH=$PATH:$ANDROID_HOME/tools/bin
- export PATH=$PATH:$ANDROID_HOME/platform-tools
- git clone https://github.com/facebook/watchman.git -b v4.9.0 --depth 1
- cd watchman
- "./autogen.sh"
- "./configure"
- make
- sudo make install
- cd ..
install:
- npm install
language: android
jdk:
- oraclejdk8
dist: trusty
android:
  components:
  - tools
  - platform-tools
  - build-tools-28.0.3
  - android-28
  - extra-google-google_play_services
  - extra-google-m2repository
  - extra-android-m2repository
script:
- cd android && sudo chmod +x gradlew && sudo ./gradlew clean && sudo ./gradlew assembleRelease
- cd ..
# generated by `travis deploy releases`
deploy:
  provider: releases
  skip_cleanup: true
  api_key:
    secure: fmVo1oLtXlcmWMuj5hXIQL6soUImApTHjiqpf8eweP3xk9kw846z6CdTyIOLTZEBeq3kQokk5nA6gERUJlT2VSnRNnwfg4P/CbF9IjE+skSmT23VQuUAGQLSZgqgU64XhFFsNvc9uRiFx1axUvQgJSbvPEGepf/6T2Au+B9dmoso2AynKd4IDe6WdbfRkCmcK+0n0QTGgJJdvC/YKLlCeeR2XXvKbTHUnlzC2UvR9q7/uPiuuZyH5EurRES/CiZjSOHo2AFp3cQGm4TavhCoSuIGO5vy5Y7UrpTFRReoJsQf18qkwIgxPObv0MnRdsRFhV7ie4djnlE7dowf43mVJejjzYIWw/Gxd188ZDecaz81bTXWN+Bc8p1yeYt7bI+wyfkkq70Ei4JyhVKZTaVPilm7v7+WiP0GiA9qcLHdoK8ZCDWccBtPc9ixlLMhI8uYXgPRDkLsHfUTKcxw6rxOlUh0qdyPgw7sgVLw5EVkT1j61gDPqH4b4bu4RIMMBrq6XgSimCuXfHXaRmirOVjEL0B3HSmx+eZEAZ4Wa49QbczaGXT1jqwFg6/vrnJ4gv0qU7xDJr7qFnRM1vGjJViEsUj3sos5Uv3ckop7RBCgzaMnQPjx5Fz5MrSHedzVUXoEWwuEBKnhtJ6kIeL10FZKfII0ago85Loiw30wWUTILAM=
  file: $TRAVIS_BUILD_DIR/android/app/build/outputs/apk/app-release-unsigned.apk
  on:
    repo: 100-Ascent/app
    tags: true
